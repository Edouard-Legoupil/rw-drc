## Mapping Conflict in the DRC

The following documentation covers installation, how to fork this project, site architecture, make changes and map design/hosting.

### Installing Jekyll

- `gem install jekyll`

### Forking the project
To use this project as a starting point, [fork the repository](http://help.github.com/fork-a-repo). This will create a new copy of the project on github. Make changes by setting up a local repo, and then commit/push changes to github.

###Files
-----

    _includes/     Javascript and css files.
    _layouts/      Major page templates.
    _posts/        Content. Data, sources, about.
    _site/         The static site generated by Jekyll.
    data/          Csv and json files of data for drawer.
    fonts/         Fonts.
    images/        Images.
    tilemill/      Internews-media tilemill project.
    404.html       Custom 404 page - only works with gh-pages.
    CNAME          CNAME record. See http://pages.github.com under 'Custom domains' to see how this works with github pages
    README.md      This file.
    _config.yml    Jekyll configuration file.
    404.html       Custom 404 page - only works with gh-pages.
    import.rb      An import script designed to split the data from csv into indivdual .json files per province
    index.html     Home page.
    site.css       Aggregated site css.
    site.js        Aggregated site scripts.


### Jekyll
The site uses Jekyll, a simple, logic aware, static site generator. In a nutshell you build a site with all the logic and source files you need and Jekyll creates a static copy of the website in a '_site/' directory. Note that you do not touch the contents of this directory. You make any additions or changes to the files outside of this. After you [install jekyll](https://github.com/mojombo/jekyll/wiki/install), and have downloaded the project, from terminal, change into the directory the project is in and type 'jekyll'. Locally, the site can be viewed at `http://0.0.0.0:4000/index.html` after it has been generated for the first time.

####Site Configuration
`_config.yml` sets up the default configuration for jekyll when reading all files. As seen below, it allows you to format the url, and allows for the exclusion of unnecessary files that jekyll doesn't need to generate.

		auto: true
		server: true
		exclude:
		  - README.md
		  - import.rb
		  - tilemill
		permalink: /:title
		baseurl: /internews-media

####Adding new pages
Jekyll allows for easy referencing and adding logic for other pages in the header of each new page that you create. For our use case, in `0200-01-02-about.html`, the header includes several options:

		title: About the Data
		category: about
		tags: about
		layout: pages

We reference posts with 'tags' and 'category' to control their display from the template pages located in '_layouts/'. The logic contained in these template files uses Liquid. You can learn more about the [Liquid Templating System](https://github.com/shopify/liquid/wiki/liquid-for-designers) for more information on creating relationships between files in the `_site` directory.

####Naming conventions
Jekyll has a default chronological pagination system. Posts are ordered such that the most *recent* post appears first, so we created fake dates to ensure hierarchy between the 'About' and 'Sources' links in the _posts directory.

    hierarchy    file name
    --------     ---------
     1           0200-01-02-about.html
     2           0200-01-01-data.html
     2       	   0200-01-01-sources.html

###Notes
Where something requires explanation there are inline notes in the code.
